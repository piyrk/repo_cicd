{"ast":null,"code":"import{useState,useEffect}from\"react\";import{useParams,useNavigate,Link}from\"react-router-dom\";import{useLocation}from\"react-router-dom\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const UserProfile=()=>{const location=useLocation();var customer=location.state;const sessionCustomer=JSON.parse(sessionStorage.getItem(\"active-customer\"));const[user,setUser]=useState(customer);let navigate=useNavigate();const addDrivingLicense=booking=>{navigate(\"/customer/driving-license/add\");};const retrieveUser=async()=>{const response=await axios.get(\"http://localhost:8080/api/user/fetch/user-id?userId=\"+customer.id);return response.data;};useEffect(()=>{const getUser=async()=>{const res=await retrieveUser();if(res){setUser(res.users[0]);}};getUser();},[]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex align-items-center justify-content-center ms-5 mt-1 me-5 mb-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card form-card rounded-card h-100 custom-bg\",style:{width:\"900px\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body header-logo-color\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"card-title text-color  text-center\",children:\"Personal Detail\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mt-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"b\",{className:\"text-color\",children:\"First Name:\"}),\" \",user.firstName]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"b\",{className:\"text-color\",children:\"Last Name:\"}),\" \",user.lastName]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"b\",{className:\"text-color\",children:\"Email Id:\"}),\" \",user.emailId]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row mt-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"b\",{className:\"text-color\",children:\"Contact:\"}),\" \",user.phoneNo]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"b\",{className:\"text-color\",children:\"Address:\"}),\" \",user.address.street+\" \"+user.address.city+\" \"+user.address.pincode]})})]}),/*#__PURE__*/_jsx(\"h4\",{className:\"card-title text-color  text-center mt-5\",children:\"Driving License\"}),(()=>{if(user.license){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row mt-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"b\",{className:\"text-color\",children:\"License No:\"}),\" \",user.license.licenseNumber]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"b\",{className:\"text-color\",children:\"License Expiry:\"}),\" \",user.license.expirationDate]})}),/*#__PURE__*/_jsx(\"div\",{class:\"d-flex aligns-items-center justify-content-center mt-3\",children:/*#__PURE__*/_jsx(\"img\",{src:\"http://localhost:8080/api/user/\"+user.license.licensePic,className:\"card-img-top rounded img-fluid\",alt:\"variant img\",style:{maxWidth:\"350px\",display:\"inline-block\"}})})]})});}else if(sessionCustomer&&sessionCustomer.role===\"Customer\"){return/*#__PURE__*/_jsx(\"div\",{className:\"d-flex aligns-items-center justify-content-center\",children:/*#__PURE__*/_jsx(\"button\",{onClick:e=>addDrivingLicense(),className:\"btn btn-md bg-color custom-bg-text mt-4 \",children:/*#__PURE__*/_jsx(\"b\",{children:\"Add License\"})})});}else{return/*#__PURE__*/_jsx(\"div\",{className:\"text-center header-logo-color mt-4\",children:/*#__PURE__*/_jsx(\"h5\",{children:\"Not Uploaded\"})});}})()]})})})});};export default UserProfile;","map":{"version":3,"names":["useState","useEffect","useParams","useNavigate","Link","useLocation","axios","jsx","_jsx","jsxs","_jsxs","UserProfile","location","customer","state","sessionCustomer","JSON","parse","sessionStorage","getItem","user","setUser","navigate","addDrivingLicense","booking","retrieveUser","response","get","id","data","getUser","res","users","children","className","style","width","firstName","lastName","emailId","phoneNo","address","street","city","pincode","license","licenseNumber","expirationDate","class","src","licensePic","alt","maxWidth","display","role","onClick","e"],"sources":["C:/Users/Piyush Kumar/Desktop/cicd_project/car-rental-system-frontend-master/src/UserComponent/UserProfile.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useParams, useNavigate, Link } from \"react-router-dom\";\nimport { useLocation } from \"react-router-dom\";\nimport axios from \"axios\";\n\nconst UserProfile = () => {\n  const location = useLocation();\n  var customer = location.state;\n\n  const sessionCustomer = JSON.parse(sessionStorage.getItem(\"active-customer\"));\n\n  const [user, setUser] = useState(customer);\n\n  let navigate = useNavigate();\n\n  const addDrivingLicense = (booking) => {\n    navigate(\"/customer/driving-license/add\");\n  };\n\n  const retrieveUser = async () => {\n    const response = await axios.get(\n      \"http://localhost:8080/api/user/fetch/user-id?userId=\" + customer.id\n    );\n    return response.data;\n  };\n\n  useEffect(() => {\n    const getUser = async () => {\n      const res = await retrieveUser();\n      if (res) {\n        setUser(res.users[0]);\n      }\n    };\n\n    getUser();\n  }, []);\n\n  return (\n    <div>\n      {/* User Profile Card */}\n      <div className=\"d-flex align-items-center justify-content-center ms-5 mt-1 me-5 mb-3\">\n        <div\n          className=\"card form-card rounded-card h-100 custom-bg\"\n          style={{\n            width: \"900px\",\n          }}\n        >\n          <div className=\"card-body header-logo-color\">\n            <h4 className=\"card-title text-color  text-center\">\n              Personal Detail\n            </h4>\n\n            <div className=\"row mt-4\">\n              <div className=\"col-md-4\">\n                <p className=\"mb-2\">\n                  <b className=\"text-color\">First Name:</b> {user.firstName}\n                </p>\n              </div>\n              <div className=\"col-md-4\">\n                <p className=\"mb-2\">\n                  <b className=\"text-color\">Last Name:</b> {user.lastName}\n                </p>\n              </div>\n              <div className=\"col-md-4\">\n                <p className=\"mb-2\">\n                  <b className=\"text-color\">Email Id:</b> {user.emailId}\n                </p>\n              </div>\n            </div>\n            <div className=\"row mt-2\">\n              <div className=\"col-md-4\">\n                <p className=\"mb-2\">\n                  <b className=\"text-color\">Contact:</b> {user.phoneNo}\n                </p>\n              </div>\n              <div className=\"col-md-4\">\n                <p className=\"mb-2\">\n                  <b className=\"text-color\">Address:</b>{\" \"}\n                  {user.address.street +\n                    \" \" +\n                    user.address.city +\n                    \" \" +\n                    user.address.pincode}\n                </p>\n              </div>\n            </div>\n            <h4 className=\"card-title text-color  text-center mt-5\">\n              Driving License\n            </h4>\n            {(() => {\n              if (user.license) {\n                return (\n                  <div>\n                    <div className=\"row mt-4\">\n                      <div className=\"col-md-4\">\n                        <p className=\"mb-2\">\n                          <b className=\"text-color\">License No:</b>{\" \"}\n                          {user.license.licenseNumber}\n                        </p>\n                      </div>\n                      <div className=\"col-md-4\">\n                        <p className=\"mb-2\">\n                          <b className=\"text-color\">License Expiry:</b>{\" \"}\n                          {user.license.expirationDate}\n                        </p>\n                      </div>\n\n                      <div class=\"d-flex aligns-items-center justify-content-center mt-3\">\n                        <img\n                          src={\n                            \"http://localhost:8080/api/user/\" +\n                            user.license.licensePic\n                          }\n                          className=\"card-img-top rounded img-fluid\"\n                          alt=\"variant img\"\n                          style={{\n                            maxWidth: \"350px\",\n                            display: \"inline-block\",\n                          }}\n                        />\n                      </div>\n                    </div>\n                  </div>\n                );\n              } else if (\n                sessionCustomer &&\n                sessionCustomer.role === \"Customer\"\n              ) {\n                return (\n                  <div className=\"d-flex aligns-items-center justify-content-center\">\n                    <button\n                      onClick={(e) => addDrivingLicense()}\n                      className=\"btn btn-md bg-color custom-bg-text mt-4 \"\n                    >\n                      <b>Add License</b>\n                    </button>\n                  </div>\n                );\n              } else {\n                return (\n                  <div className=\"text-center header-logo-color mt-4\">\n                    <h5>Not Uploaded</h5>\n                  </div>\n                );\n              }\n            })()}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default UserProfile;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}