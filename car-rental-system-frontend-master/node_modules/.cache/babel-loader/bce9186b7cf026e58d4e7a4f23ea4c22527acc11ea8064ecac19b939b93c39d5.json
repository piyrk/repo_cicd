{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useParams}from\"react-router-dom\";import axios from\"axios\";import Carousel from\"./Carousel\";import Footer from\"../NavbarComponent/Footer\";import{useNavigate}from\"react-router-dom\";import CarCard from\"../CarComponent/CarCard\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const HomePage=()=>{const navigate=useNavigate();const[variants,setVariants]=useState([]);const[companies,setCompanies]=useState([]);const[companyId,setCompanyId]=useState(\"\");const[tempCompanyId,setTempCompanyId]=useState(\"\");const retrieveAllCompany=async()=>{const response=await axios.get(\"http://localhost:8080/api/company/fetch/all\");return response.data;};const retrieveAllVariant=async()=>{const response=await axios.get(\"http://localhost:8080/api/variant/fetch/all\");return response.data;};const retrieveAllVariantByCompanyId=async()=>{const response=await axios.get(\"http://localhost:8080/api/variant/fetch/company-wise?companyId=\"+companyId);return response.data;};useEffect(()=>{const getAllCompany=async()=>{const resCompany=await retrieveAllCompany();if(resCompany){setCompanies(resCompany.companies);}};const getAllVariant=async()=>{if(companyId!==\"\"){const res=await retrieveAllVariantByCompanyId();if(res){setVariants(res.variants);}}else{const res=await retrieveAllVariant();if(res){setVariants(res.variants);}}};getAllCompany();getAllVariant();},[companyId]);const searchCompany=e=>{e.preventDefault();setCompanyId(tempCompanyId);};return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid mb-2\",style:{backgroundColor:\"#1f1f1f\"},children:[/*#__PURE__*/_jsx(Carousel,{}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-color text-center mt-3\",children:\"Search Cars here..!!\"}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex aligns-items-center justify-content-center mt-3\",children:/*#__PURE__*/_jsxs(\"form\",{class:\"row g-3\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"col-auto\",children:/*#__PURE__*/_jsxs(\"select\",{onChange:e=>setTempCompanyId(e.target.value),className:\"form-control\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Car Company..\"}),companies.map(company=>{return/*#__PURE__*/_jsxs(\"option\",{value:company.id,children:[\" \",company.name,\" \"]});})]})}),/*#__PURE__*/_jsx(\"div\",{class:\"col-auto\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",class:\"btn bg-color custom-bg-text mb-3\",onClick:searchCompany,children:/*#__PURE__*/_jsx(\"b\",{children:\"Search\"})})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12 mt-3 mb-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row row-cols-1 row-cols-md-2 g-4\",children:variants.map(variant=>{return/*#__PURE__*/_jsx(CarCard,{item:variant},variant.id);})})}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(Footer,{})]});};export default HomePage;","map":{"version":3,"names":["React","useState","useEffect","useParams","axios","Carousel","Footer","useNavigate","CarCard","jsx","_jsx","jsxs","_jsxs","HomePage","navigate","variants","setVariants","companies","setCompanies","companyId","setCompanyId","tempCompanyId","setTempCompanyId","retrieveAllCompany","response","get","data","retrieveAllVariant","retrieveAllVariantByCompanyId","getAllCompany","resCompany","getAllVariant","res","searchCompany","e","preventDefault","className","style","backgroundColor","children","class","onChange","target","value","required","map","company","id","name","type","onClick","variant","item"],"sources":["C:/Users/Piyush Kumar/Desktop/cicd_project/car-rental-system-frontend-master/src/PageComponent/HomePage.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Carousel from \"./Carousel\";\nimport Footer from \"../NavbarComponent/Footer\";\nimport { useNavigate } from \"react-router-dom\";\nimport CarCard from \"../CarComponent/CarCard\";\n\nconst HomePage = () => {\n  const navigate = useNavigate();\n\n  const [variants, setVariants] = useState([]);\n  const [companies, setCompanies] = useState([]);\n\n  const [companyId, setCompanyId] = useState(\"\");\n\n  const [tempCompanyId, setTempCompanyId] = useState(\"\");\n\n  const retrieveAllCompany = async () => {\n    const response = await axios.get(\n      \"http://localhost:8080/api/company/fetch/all\"\n    );\n    return response.data;\n  };\n\n  const retrieveAllVariant = async () => {\n    const response = await axios.get(\n      \"http://localhost:8080/api/variant/fetch/all\"\n    );\n    return response.data;\n  };\n\n  const retrieveAllVariantByCompanyId = async () => {\n    const response = await axios.get(\n      \"http://localhost:8080/api/variant/fetch/company-wise?companyId=\" +\n        companyId\n    );\n    return response.data;\n  };\n\n  useEffect(() => {\n    const getAllCompany = async () => {\n      const resCompany = await retrieveAllCompany();\n      if (resCompany) {\n        setCompanies(resCompany.companies);\n      }\n    };\n\n    const getAllVariant = async () => {\n      if (companyId !== \"\") {\n        const res = await retrieveAllVariantByCompanyId();\n        if (res) {\n          setVariants(res.variants);\n        }\n      } else {\n        const res = await retrieveAllVariant();\n        if (res) {\n          setVariants(res.variants);\n        }\n      }\n    };\n    getAllCompany();\n    getAllVariant();\n  }, [companyId]);\n\n  const searchCompany = (e) => {\n    e.preventDefault();\n    setCompanyId(tempCompanyId);\n  };\n\n  return (\n    <div\n      className=\"container-fluid mb-2\"\n      style={{\n        backgroundColor: \"#1f1f1f\",\n      }}\n    >\n      <Carousel />\n\n      <h4 className=\"text-color text-center mt-3\">Search Cars here..!!</h4>\n      <div className=\"d-flex aligns-items-center justify-content-center mt-3\">\n        <form class=\"row g-3\">\n          <div class=\"col-auto\">\n            <select\n              onChange={(e) => setTempCompanyId(e.target.value)}\n              className=\"form-control\"\n              required\n            >\n              <option value=\"\">Select Car Company..</option>\n\n              {companies.map((company) => {\n                return <option value={company.id}> {company.name} </option>;\n              })}\n            </select>\n          </div>\n\n          <div class=\"col-auto\">\n            <button\n              type=\"submit\"\n              class=\"btn bg-color custom-bg-text mb-3\"\n              onClick={searchCompany}\n            >\n              <b>Search</b>\n            </button>\n          </div>\n        </form>\n      </div>\n\n      <div className=\"col-md-12 mt-3 mb-5\">\n        <div className=\"row row-cols-1 row-cols-md-2 g-4\">\n          {variants.map((variant) => {\n            return <CarCard item={variant} key={variant.id} />;\n          })}\n        </div>\n      </div>\n      <hr />\n      <Footer />\n    </div>\n  );\n};\n\nexport default HomePage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}